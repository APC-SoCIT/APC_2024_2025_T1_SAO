"Reports_1 As screen.'welcomeLayout_ver1.0'":
    OnVisible: |-
        =ClearCollect(
            Master_Data,
            AddColumns(
                ShowColumns(
                    'APF Uploads', 
                    ID,
                    'Name of Lead Org',
                    Title,
                    'Activity Title',
                    'Target Date',
                    'Venue/Platform',
                    'Workshop/Tech Training',
                    'Seminar/Webinar/Symposium/Forum',
                    'Leadership Training',
                    'Academic Competition',
                    'Culture & Arts',
                    'Games & Sports', 
                    'Religious/Spiritual',
                    'Community Ext', 
                    'Social Events',
                    'Marketing'
                ),
                "EventTypes", // New column for concatenated event types
                Concat(
                    Filter(
                        [
                            {Type: "Workshop", Value: ThisRecord.Workshop_x002f_TechTraining},
                            {Type: "Seminar", Value: ThisRecord.Workshop_x002f_TechTraining},
                            {Type: "Leadership", Value: ThisRecord.LeadershipTraining},
                            {Type: "Academic", Value: ThisRecord.AcademicCompetition},
                            {Type: "Cultural", Value: ThisRecord.CultureArts},
                            {Type: "Sports", Value: ThisRecord.GamesSports},
                            {Type: "Religious", Value: ThisRecord.Religious_x002f_Spiritual},
                            {Type: "Community", Value: ThisRecord.CommunityExt},
                            {Type: "Social", Value: ThisRecord.SocialEvents},
                            {Type: "Marketing", Value: ThisRecord.Marketing}
                        ],
                        Value = true // Filter to get only the true values
                    ),
                    Type,
                    "; " // Concatenate with a semicolon and space
                )
            )
        );

    ScreenContainer4_1 As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutDirection: =LayoutDirection.Vertical
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =16
        PaddingLeft: =16
        PaddingRight: =16
        PaddingTop: =16
        Width: =Parent.Width
        ZIndex: =1

        HeaderContainer3_1 As groupContainer.horizontalAutoLayoutContainer:
            Fill: =RGBA(255, 255, 255, 1)
            FillPortions: =0
            Height: =75
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            RadiusBottomLeft: =8
            RadiusBottomRight: =8
            RadiusTopLeft: =8
            RadiusTopRight: =8
            ZIndex: =2

            TSKBR_14 As TSKBR:
                LayoutMinHeight: =640
                LayoutMinWidth: =640
                NavigationItems: =gblNavItems
                ZIndex: =4

        MainContainer3_1 As groupContainer.horizontalAutoLayoutContainer:
            Fill: =RGBA(245, 245, 245, 1)
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutDirection: =LayoutDirection.Vertical
            LayoutGap: =16
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowX: =LayoutOverflow.Scroll
            LayoutWrap: =true
            PaddingBottom: =2
            PaddingLeft: =2
            PaddingRight: =2
            PaddingTop: =2
            ZIndex: =3

            Container22_1 As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =5
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =300
                LayoutMinWidth: =If(Reports_1.Size = ScreenSize.Small, Parent.Width, 250)
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =10
                PaddingLeft: =5
                PaddingRight: =5
                PaddingTop: =10
                ZIndex: =4

                "Gallery1 As gallery.'BrowseLayout_Vertical_TwoTextVariant_ver5.0'":
                    DelayItemLoading: =true
                    Items: ='APF Uploads'
                    Layout: =Layout.Vertical
                    LoadingSpinner: =LoadingSpinner.Data
                    TemplatePadding: =0
                    TemplateSize: =90
                    Width: =Container22_1.Width
                    ZIndex: =1

                    Title4 As label:
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.Title
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Parent.TemplateWidth - 86
                        X: =16
                        Y: =(Parent.TemplateHeight - (Self.Size * 1.8 + Subtitle3.Size * 1.8)) / 2
                        ZIndex: =1

                    Subtitle3 As label:
                        FontWeight: =If(ThisItem.IsSelected, FontWeight.Semibold, FontWeight.Normal)
                        Height: =Self.Size * 1.8
                        OnSelect: =Select(Parent)
                        PaddingBottom: =0
                        PaddingLeft: =0
                        PaddingRight: =0
                        PaddingTop: =0
                        Text: =ThisItem.Title
                        VerticalAlign: =VerticalAlign.Top
                        Width: =Title4.Width
                        X: =Title4.X
                        Y: =Title4.Y + Title4.Height
                        ZIndex: =2

                    NextArrow3 As icon.ChevronRight:
                        AccessibleLabel: =Self.Tooltip
                        Color: =RGBA(166, 166, 166, 1)
                        Height: =50
                        Icon: =Icon.ChevronRight
                        OnSelect: =Select(Parent)
                        PaddingBottom: =16
                        PaddingLeft: =16
                        PaddingRight: =16
                        PaddingTop: =16
                        Tooltip: ="View item details"
                        Width: =50
                        X: =Parent.TemplateWidth - Self.Width - 12
                        Y: =(Parent.TemplateHeight / 2) - (Self.Height / 2)
                        ZIndex: =3

                    Separator3 As rectangle:
                        Fill: =RGBA(255, 255, 255, 1)
                        Height: =8
                        OnSelect: =Select(Parent)
                        Width: =Parent.TemplateWidth
                        Y: =Parent.TemplateHeight - Self.Height
                        ZIndex: =4

                    Rectangle11 As rectangle:
                        Height: =Parent.TemplateHeight - Separator3.Height
                        OnSelect: =Select(Parent)
                        Visible: =ThisItem.IsSelected
                        Width: =4
                        ZIndex: =5

                Container6_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =5
                    RadiusBottomRight: =5
                    RadiusTopLeft: =5
                    RadiusTopRight: =5
                    Visible: =If(CurrentUser.userRoles.Id = 1, true, false)
                    ZIndex: =5

                    Dropdown2_1 As dropdown:
                        Default: ="Select an Organization"
                        FontWeight: =FontWeight.Lighter
                        Height: =46
                        Items: =Organizations
                        OnChange: |-
                            =ClearCollect(
                                EventInfo,
                                Filter(
                                    ShowColumns(
                                        'APF Uploads',
                                        'Seminar/Webinar/Symposium/Forum',
                                        'Leadership Training',
                                        'Community Ext',
                                        Marketing,
                                        'Religious/Spiritual',
                                        'Academic Competition',
                                        'Culture & Arts',
                                        'Games & Sports',
                                        'Social Events',
                                        'Name of Lead Org',
                                        'Projected Primary Audience',
                                        'Projected Secondary Audience'
                                    ),
                                    NameofLeadOrg = Dropdown2_1.Selected.orgAcronym
                                )
                            );
                            ClearCollect(EventTypeReports, 
                                {SeminarCount: CountIf(EventInfo,'Seminar/Webinar/Symposium/Forum' = true),
                                LeadershipCount: CountIf(EventInfo, 'Leadership Training' = true),
                                CommExtCount: CountIf(EventInfo,'Community Ext' = true),
                                MarketingCount: CountIf(EventInfo,Marketing = true),
                                ReligiousCount: CountIf(EventInfo,'Religious/Spiritual' = true),
                                AcadCompeCount: CountIf(EventInfo,'Academic Competition' = true),
                                CultureCount: CountIf(EventInfo,'Culture & Arts' = true),
                                GameCount: CountIf(EventInfo,'Games & Sports' = true),
                                SocialCount: CountIf(EventInfo,'Social Events' = true)
                                }
                            )
                        Width: =261
                        X: =84
                        Y: =30
                        ZIndex: =6

                    ButtonCanvas2_1 As Button:
                        DisplayMode: =DisplayMode.Edit
                        Height: =46
                        OnSelect: |-
                            =ClearCollect(
                                    EventInfo,
                                    ShowColumns(
                                            'APF Uploads',
                                            'Seminar/Webinar/Symposium/Forum',
                                            'Leadership Training',
                                            'Community Ext',
                                            Marketing,
                                            'Religious/Spiritual',
                                            'Academic Competition',
                                            'Culture & Arts',
                                            'Games & Sports',
                                            'Projected Primary Audience',
                                            'Projected Secondary Audience'
                                    )
                            );
                            
                            ClearCollect(EventTypeReports, 
                                {SeminarCount: CountIf(EventInfo,'Seminar/Webinar/Symposium/Forum' = true),
                                LeadershipCount: CountIf(EventInfo, 'Leadership Training' = true),
                                CommExtCount: CountIf(EventInfo,'Community Ext' = true),
                                MarketingCount: CountIf(EventInfo,Marketing = true),
                                ReligiousCount: CountIf(EventInfo,'Religious/Spiritual' = true),
                                AcadCompeCount: CountIf(EventInfo,'Academic Competition' = true),
                                CultureCount: CountIf(EventInfo,'Culture & Arts' = true),
                                GameCount: CountIf(EventInfo,'Games & Sports' = true),
                                SocialCount: CountIf(EventInfo,'Social Events' = true)
                                }
                            )
                        Text: ="All"
                        Width: =54
                        X: =10
                        Y: =30
                        ZIndex: =7

                    Icon21_2 As icon.VerticalLine:
                        Height: =46
                        Icon: =Icon.VerticalLine
                        Width: =20
                        X: =64
                        Y: =30
                        ZIndex: =8

                    ButtonCanvas1_1 As Button:
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderStyle: =BorderStyle.Solid
                        DisplayMode: =DisplayMode.Edit
                        Height: =46
                        Icon: ="ArrowDownload"
                        OnSelect: =PDF(Reports_1)
                        Text: =
                        Width: =41
                        X: =365
                        Y: =30
                        ZIndex: =9

                    Icon21_3 As icon.VerticalLine:
                        Height: =46
                        Icon: =Icon.VerticalLine
                        Width: =20
                        X: =345
                        Y: =30
                        ZIndex: =10

            Container42_3 As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                Height: =400
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =5
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =400
                LayoutMinWidth: =If(Reports_1.Size = ScreenSize.Small, Parent.Width, 600)
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =10
                PaddingLeft: =5
                PaddingRight: =5
                PaddingTop: =10
                ZIndex: =34

                TextCanvas6 As Text:
                    DisplayMode: =DisplayMode.Edit
                    Height: =32
                    LayoutMinHeight: =32
                    LayoutMinWidth: =96
                    Width: =96
                    X: =0
                    Y: =0
                    ZIndex: =1

                DataTable5 As dataTable.datatable:
                    BorderStyle: =BorderStyle.Solid
                    DisplayMode: =DisplayMode.Edit
                    Fill: =RGBA(0, 0, 0, 0)
                    Height: =500
                    Items: =master_data
                    LayoutMinHeight: =250
                    LayoutMinWidth: =400
                    Width: =800
                    X: =0
                    Y: =0
                    ZIndex: =2

