"Reports_1 As screen.'welcomeLayout_ver1.0'":
    OnVisible: |
        =ClearCollect(LocalLR, LR_Uploads);
        
        // Then use the local collection in your formula
        ClearCollect(
            Master_Data,
            AddColumns(
                ShowColumns('APF Uploads',
                    ID,
                    'Name of Lead Org',
                    Title,
                    'Activity Title',
                    'Target Date',
                    'Venue/Platform',
                    'Workshop/Tech Training',
                    'Seminar/Webinar/Symposium/Forum',
                    'Leadership Training',
                    'Academic Competition',
                    'Culture & Arts',
                    'Games & Sports', 
                    'Religious/Spiritual',
                    'Community Ext', 
                    'Social Events',
                    Marketing
                ),
                EventTypes,
                Concat(
                    Filter(
                        [
                            {Type: "Workshop", Value: ThisRecord.Workshop_x002f_TechTraining},
                            {Type: "Seminar", Value: ThisRecord.Workshop_x002f_TechTraining},
                            {Type: "Leadership", Value: ThisRecord.LeadershipTraining},
                            {Type: "Academic", Value: ThisRecord.AcademicCompetition},
                            {Type: "Cultural", Value: ThisRecord.CultureArts},
                            {Type: "Sports", Value: ThisRecord.GamesSports},
                            {Type: "Religious", Value: ThisRecord.Religious_x002f_Spiritual},
                            {Type: "Community", Value: ThisRecord.CommunityExt},
                            {Type: "Social", Value: ThisRecord.SocialEvents},
                            {Type: "Marketing", Value: ThisRecord.Marketing}
                        ],
                        Value = true
                    ),
                    Type,
                    "; "
                ),
                CashAdvance,
                IfError(
                    LookUp(LocalLR, APF_ID.Id = ThisRecord.ID, CashAdvAmt),
                    0
                )
            )
        )

    ScreenContainer4_1 As groupContainer.verticalAutoLayoutContainer:
        Fill: =RGBA(245, 245, 245, 1)
        Height: =Parent.Height
        LayoutGap: =16
        LayoutMode: =LayoutMode.Auto
        PaddingBottom: =16
        PaddingLeft: =16
        PaddingRight: =16
        PaddingTop: =16
        Width: =Parent.Width
        Y: =60
        ZIndex: =1

        MainContainer3_1 As groupContainer.horizontalAutoLayoutContainer:
            Fill: =RGBA(245, 245, 245, 1)
            LayoutAlignItems: =LayoutAlignItems.Stretch
            LayoutGap: =16
            LayoutMinHeight: =100
            LayoutMinWidth: =250
            LayoutMode: =LayoutMode.Auto
            LayoutOverflowX: =LayoutOverflow.Scroll
            LayoutWrap: =true
            PaddingBottom: =2
            PaddingLeft: =2
            PaddingRight: =2
            PaddingTop: =2
            RadiusBottomLeft: =30
            RadiusBottomRight: =30
            RadiusTopLeft: =30
            RadiusTopRight: =30
            ZIndex: =2

            LeftCont As groupContainer.verticalAutoLayoutContainer:
                Fill: =RGBA(255, 255, 255, 1)
                LayoutDirection: =LayoutDirection.Vertical
                LayoutMinHeight: =100
                LayoutMinWidth: =250
                LayoutMode: =LayoutMode.Auto
                RadiusBottomLeft: =30
                RadiusBottomRight: =30
                RadiusTopLeft: =30
                RadiusTopRight: =30
                ZIndex: =2

                ChartsSlider As groupContainer.horizontalAutoLayoutContainer:
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    LayoutMode: =LayoutMode.Auto
                    LayoutOverflowX: =LayoutOverflow.Scroll
                    ZIndex: =1

                    ChartCont As groupContainer.verticalAutoLayoutContainer:
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =350
                        LayoutMode: =LayoutMode.Auto
                        Width: |
                            =350
                        ZIndex: =1

                        ColumnChart2 As barChart:
                            Items: =ColumnChartSample
                            X: =40
                            Y: =70
                            ZIndex: =3

                    LabelCont As groupContainer.manualLayoutContainer:
                        FillPortions: =0.05
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        ZIndex: =4

                        Legend6_1 As legend:
                            Height: =80
                            ItemColorSet: =ColumnChart2.ItemColorSet
                            Items: =ColumnChart2.SeriesLabels
                            Width: =166
                            X: =42
                            Y: =103
                            ZIndex: =1

                        Title11 As label:
                            Align: =Align.Center
                            Height: =20
                            LineHeight: =1
                            Text: ="Chart Title"
                            Width: =250
                            Y: =60
                            ZIndex: =2

                    ChartCont_1 As groupContainer.verticalAutoLayoutContainer:
                        LayoutDirection: =LayoutDirection.Vertical
                        LayoutMinHeight: =100
                        LayoutMinWidth: =350
                        LayoutMode: =LayoutMode.Auto
                        Width: |
                            =350
                        ZIndex: =5

                        ColumnChart1 As barChart:
                            Items: =ColumnChartSample
                            X: =40
                            Y: =70
                            ZIndex: =3

                    LabelCont_1 As groupContainer.manualLayoutContainer:
                        FillPortions: =0.05
                        LayoutMinHeight: =100
                        LayoutMinWidth: =250
                        ZIndex: =6

                        Title2 As label:
                            Align: =Align.Center
                            Height: =25
                            Text: ="Chart Title"
                            Width: =250
                            Y: =40
                            ZIndex: =3

                        Legend1 As legend:
                            Height: =80
                            ItemColorSet: =ColumnChart1.ItemColorSet
                            Items: =ColumnChart1.SeriesLabels
                            Width: =250
                            Y: |
                                =103
                            ZIndex: =4

                Container13 As groupContainer.manualLayoutContainer:
                    AlignInContainer: =AlignInContainer.Start
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    Width: =Parent.Width
                    X: =165
                    Y: =385
                    ZIndex: =3

                    DataTable2 As dataTable.datatable:
                        BorderStyle: =BorderStyle.Solid
                        DisplayMode: =DisplayMode.Edit
                        Fill: =RGBA(0, 0, 0, 0)
                        Height: =Parent.Height
                        Items: =Master_Data
                        Width: =Parent.Width
                        X: =Parent.X
                        Y: =0
                        ZIndex: =2

                        ID_Column1 As dataTableColumn.textualColumn:
                            DisplayMode: =DisplayMode.Edit
                            FieldDisplayName: ="ID"
                            FieldName: ="ID"
                            FieldVariantName: ="textualColumn"
                            Height: =Parent.Height
                            LayoutHeight: =Parent.Height
                            Order: =1
                            Text: =ThisItem.ID
                            Width: =100
                            X: =0
                            Y: =0
                            ZIndex: =11

                        Title_Column1 As dataTableColumn.textualColumn:
                            DisplayMode: =DisplayMode.Edit
                            FieldDisplayName: ="Title"
                            FieldName: ="Title"
                            FieldVariantName: ="textualColumn"
                            Height: =Parent.Height
                            LayoutHeight: =Parent.Height
                            Order: =2
                            Text: =ThisItem.Title
                            Width: =100
                            X: =0
                            Y: =0
                            ZIndex: =12

                        ActivityTitle_Column1 As dataTableColumn.textualColumn:
                            DisplayMode: =DisplayMode.Edit
                            FieldDisplayName: ="ActivityTitle"
                            FieldName: ="ActivityTitle"
                            FieldVariantName: ="textualColumn"
                            Height: =Parent.Height
                            LayoutHeight: =Parent.Height
                            Order: =3
                            Text: =ThisItem.ActivityTitle
                            Width: =100
                            X: =0
                            Y: =0
                            ZIndex: =13

                        EventTypes_Column1 As dataTableColumn.textualColumn:
                            DisplayMode: =DisplayMode.Edit
                            FieldDisplayName: ="EventTypes"
                            FieldName: ="EventTypes"
                            FieldVariantName: ="textualColumn"
                            Height: =Parent.Height
                            LayoutHeight: =Parent.Height
                            Order: =4
                            Text: =ThisItem.EventTypes
                            Width: =100
                            X: =0
                            Y: =0
                            ZIndex: =14

                        NameofLeadOrg_Column1 As dataTableColumn.textualColumn:
                            DisplayMode: =DisplayMode.Edit
                            FieldDisplayName: ="NameofLeadOrg"
                            FieldName: ="NameofLeadOrg"
                            FieldVariantName: ="textualColumn"
                            Height: =Parent.Height
                            LayoutHeight: =Parent.Height
                            Order: =5
                            Text: =ThisItem.NameofLeadOrg
                            Width: =100
                            X: =0
                            Y: =0
                            ZIndex: =15

                        CashAdvance_Column1 As dataTableColumn.textualColumn:
                            DisplayMode: =DisplayMode.Edit
                            FieldDisplayName: ="CashAdvance"
                            FieldName: ="CashAdvance"
                            FieldVariantName: ="textualColumn"
                            Height: =Parent.Height
                            LayoutHeight: =Parent.Height
                            Order: =6
                            Text: =ThisItem.CashAdvance
                            Width: =100
                            X: =0
                            Y: =0
                            ZIndex: =16

            "'Right Container' As groupContainer.verticalAutoLayoutContainer":
                DropShadow: =DropShadow.Regular
                Fill: =RGBA(255, 255, 255, 1)
                FillPortions: =0.5
                LayoutAlignItems: =LayoutAlignItems.Center
                LayoutDirection: =LayoutDirection.Vertical
                LayoutGap: =5
                LayoutJustifyContent: =LayoutJustifyContent.Center
                LayoutMinHeight: =300
                LayoutMinWidth: =If(Reports_1.Size = ScreenSize.Small, Parent.Width, 250)
                LayoutMode: =LayoutMode.Auto
                PaddingBottom: =10
                PaddingLeft: =5
                PaddingRight: =5
                PaddingTop: =10
                ZIndex: =4

                Container6_1 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    FillPortions: =0.25
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =5
                    RadiusBottomRight: =5
                    RadiusTopLeft: =5
                    RadiusTopRight: =5
                    Visible: =If(CurrentUser.userRoles.Id = 1, true, false)
                    ZIndex: =5

                    Dropdown2_1 As dropdown:
                        Default: ="Select an Organization"
                        FontWeight: =FontWeight.Lighter
                        Height: =46
                        Items: =Organizations
                        OnChange: |-
                            =ClearCollect(
                                EventInfo,
                                Filter(
                                    ShowColumns(
                                        'APF Uploads',
                                        'Seminar/Webinar/Symposium/Forum',
                                        'Leadership Training',
                                        'Community Ext',
                                        Marketing,
                                        'Religious/Spiritual',
                                        'Academic Competition',
                                        'Culture & Arts',
                                        'Games & Sports',
                                        'Social Events',
                                        'Name of Lead Org',
                                        'Projected Primary Audience',
                                        'Projected Secondary Audience'
                                    ),
                                    NameofLeadOrg = Dropdown2_1.Selected.orgAcronym
                                )
                            );
                            ClearCollect(EventTypeReports, 
                                {SeminarCount: CountIf(EventInfo,'Seminar/Webinar/Symposium/Forum' = true),
                                LeadershipCount: CountIf(EventInfo, 'Leadership Training' = true),
                                CommExtCount: CountIf(EventInfo,'Community Ext' = true),
                                MarketingCount: CountIf(EventInfo,Marketing = true),
                                ReligiousCount: CountIf(EventInfo,'Religious/Spiritual' = true),
                                AcadCompeCount: CountIf(EventInfo,'Academic Competition' = true),
                                CultureCount: CountIf(EventInfo,'Culture & Arts' = true),
                                GameCount: CountIf(EventInfo,'Games & Sports' = true),
                                SocialCount: CountIf(EventInfo,'Social Events' = true)
                                }
                            )
                        Width: =261
                        X: =84
                        Y: =48
                        ZIndex: =6

                    ButtonCanvas2_1 As Button:
                        DisplayMode: =DisplayMode.Edit
                        Height: =46
                        OnSelect: |-
                            =ClearCollect(
                                    EventInfo,
                                    ShowColumns(
                                            'APF Uploads',
                                            'Seminar/Webinar/Symposium/Forum',
                                            'Leadership Training',
                                            'Community Ext',
                                            Marketing,
                                            'Religious/Spiritual',
                                            'Academic Competition',
                                            'Culture & Arts',
                                            'Games & Sports',
                                            'Projected Primary Audience',
                                            'Projected Secondary Audience'
                                    )
                            );
                            
                            ClearCollect(EventTypeReports, 
                                {SeminarCount: CountIf(EventInfo,'Seminar/Webinar/Symposium/Forum' = true),
                                LeadershipCount: CountIf(EventInfo, 'Leadership Training' = true),
                                CommExtCount: CountIf(EventInfo,'Community Ext' = true),
                                MarketingCount: CountIf(EventInfo,Marketing = true),
                                ReligiousCount: CountIf(EventInfo,'Religious/Spiritual' = true),
                                AcadCompeCount: CountIf(EventInfo,'Academic Competition' = true),
                                CultureCount: CountIf(EventInfo,'Culture & Arts' = true),
                                GameCount: CountIf(EventInfo,'Games & Sports' = true),
                                SocialCount: CountIf(EventInfo,'Social Events' = true)
                                }
                            )
                        Text: ="All"
                        Width: =54
                        X: =10
                        Y: =48
                        ZIndex: =7

                    Icon21_2 As icon.VerticalLine:
                        Height: =46
                        Icon: =Icon.VerticalLine
                        Width: =20
                        X: =64
                        Y: =48
                        ZIndex: =8

                    ButtonCanvas1_1 As Button:
                        BorderColor: =RGBA(0, 0, 0, 1)
                        BorderStyle: =BorderStyle.Solid
                        DisplayMode: =DisplayMode.Edit
                        Height: =46
                        Icon: ="ArrowDownload"
                        OnSelect: =PDF(Reports_1)
                        Text: =
                        Width: =41
                        X: =365
                        Y: =48
                        ZIndex: =9

                    Icon21_3 As icon.VerticalLine:
                        Height: =46
                        Icon: =Icon.VerticalLine
                        Width: =20
                        X: =345
                        Y: =48
                        ZIndex: =10

                Container6_2 As groupContainer.manualLayoutContainer:
                    DropShadow: =DropShadow.Light
                    LayoutMinHeight: =100
                    LayoutMinWidth: =250
                    RadiusBottomLeft: =5
                    RadiusBottomRight: =5
                    RadiusTopLeft: =5
                    RadiusTopRight: =5
                    Visible: =If(CurrentUser.userRoles.Id = 1, true, false)
                    ZIndex: =6

                    TextCanvas6 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =63
                        Size: =30
                        Text: |-
                            ="Quick Stats:"
                        Weight: ='TextCanvas.Weight'.Bold
                        Width: =193
                        X: =40
                        Y: =59
                        ZIndex: =1

                    TextCanvas6_1 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: |-
                            ="Events Organized:"
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =193
                        X: =40
                        Y: =144
                        ZIndex: =2

                    TextCanvas6_2 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: |-
                            ="Events Organized:"
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =193
                        X: =40
                        Y: =193
                        ZIndex: =3

                    TextCanvas6_3 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: |-
                            ="Events Organized:"
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =193
                        X: =40
                        Y: =242
                        ZIndex: =4

                    TextCanvas6_4 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: |-
                            ="Events Organized:"
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =193
                        X: =40
                        Y: =291
                        ZIndex: =5

                    TextCanvas6_5 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: |-
                            ="Events Organized:"
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =193
                        X: =40
                        Y: =340
                        ZIndex: =6

                    TextCanvas6_6 As Text:
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: |-
                            ="Events Organized:"
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =193
                        X: =40
                        Y: =389
                        ZIndex: =7

                    TextCanvas6_7 As Text:
                        Align: ='TextCanvas.Align'.End
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: =100
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =98
                        X: =286
                        Y: =144
                        ZIndex: =8

                    TextCanvas6_8 As Text:
                        Align: ='TextCanvas.Align'.End
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: =100
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =98
                        X: =286
                        Y: =193
                        ZIndex: =9

                    TextCanvas6_9 As Text:
                        Align: ='TextCanvas.Align'.End
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: =100
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =98
                        X: =286
                        Y: =242
                        ZIndex: =10

                    TextCanvas6_10 As Text:
                        Align: ='TextCanvas.Align'.End
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: =100
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =98
                        X: =286
                        Y: =291
                        ZIndex: =11

                    TextCanvas6_11 As Text:
                        Align: ='TextCanvas.Align'.End
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: =100
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =98
                        X: =286
                        Y: =340
                        ZIndex: =12

                    TextCanvas6_12 As Text:
                        Align: ='TextCanvas.Align'.End
                        DisplayMode: =DisplayMode.Edit
                        Height: =49
                        Size: =20
                        Text: =100
                        Weight: ='TextCanvas.Weight'.Semibold
                        Width: =98
                        X: =286
                        Y: =389
                        ZIndex: =13

    TSKBR_14 As TSKBR:
        NavigationItems: =gblNavItems
        ZIndex: =2

